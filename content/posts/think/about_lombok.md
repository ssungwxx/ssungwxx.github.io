---
title: "Java Lombok 사용에 관하여"
date: 2021-05-17T20:22:26+09:00
draft: false
---
# Lomnok에 대한 생각
## 처음 Lombok을 알게 되었을 때
처음 Lombok을 알게 되었을때는 신세계를 마주한 것만 같았다. 학교에서는 Lombok과 같은 개발도구는 가르쳐주지 않았기 때문에 존재조차 몰랐고, 코딩은 한땀 한땀 만들어가는 결과물인줄만 알았다. 매번 IDE의 힘을 빌려 Getter, Setter를 열어주고 생성자의 갯수를 보면서 잘 생성한게 맞는지 확인하던 코드들이 어노테이션 몇 개를 사용함으로써 코드의 양을 어마어마하게 줄었다.

그 이후로는, Lombok을 적극 사용했다. 적극 사용하다못해 과하게 사용을 했다라고 표현하는게 맞다. 데이터를 전달하거나 저장하는 역할을 하는 class들에는 자연스럽게 ```@Getter```, ```@Setter```를 붙이고 시작하였다. (그나마 다행인건 Entity클래스 마다 ```@Data```를 붙이지는 않았다.) 그 뒤로 Spring을 사용하는 프로젝트는 하지않아서 이러한 잘못된 습관을 인지하지 못한채로 시간이 흘렀다.

다시 시간이 지나고 Spring의 세계에 뛰어들게 되었다. 그래도 어디서 보고 들은게 있어서 ```@Setter```사용은 자재하였다. 나름대로 합리적으로 사용한다고 생각하였지만, 아는만큼 보인다고 전혀 그러지 못하였다.

### 개인적으로 생각하는 Lombok사용의 문제점
1. ```@AllArgsConstructor```를 사용하여 의존관계를 생각없이 늘림
2. ```@Getter```로 필요하지않은 필드까지 모두 열어버림
3. ```@Data``` 사용 (최악의 어노테이션)
4. 간단한 코드도 ```Lombok```에 의존 관계를 만듬
5. 게을러짐 

### Lombok 제거가 최선인가?
위와같은 문제점에도 불구하고 Lombok을 안쓸수는 없었다. 현재 진행하고 있는 프로젝트의 기본 패키지 레이어는 ```application```, ```domain```, ```infrastructure```로 구분되는데 적어도 ```domain``` 패키지에서는 Lombok을 제거하고자 하는 시도를 했었다. 핵심이 되는 비즈니스 로직이 다른 곳에 의존성을 가지게 하는 것이 싫었고, 사용하면서 무분별하게 다른 곳에서 사용할 수 있도록 여는 습관을 막기 위해서였다.

처음에는 순조롭게 진행되는 했다. 하지만 필드를 많이 가진 클래스가 필요하거나 핵심이 되는 Entity에 의존관계가 늘어날수록 코드의양은 늘어만 갔다. 특히, ```Builder```패턴을 사용하는 경우 해당 문제가 도드라졌다. 그래서 어쩔수없이 Lombok을 어느정도 허용하였다. 의존성을 가지는것보다 코드를 읽기 어렵게 만드는 것이 더 나쁜 행위라고 생각하였기 때문이다.(프로젝트에서 읽기 어려워지는 기준은 Class를 기준으로 100줄이라고 정하고 진행중에 있다.)

하지만, 적어도 중요한 비즈니스 로직이 들어가는 패키지에서만큼은 사용을 자재하려고 하는 것만은 변함이 없다. Lombok은 편리함을 통해 많은 중요한 것을 가리고 있기 떄문이다. Java를 사용하면서 뗄레야 뗄 수 없는 모듈이지만 가능하면 사용을 최소한으로 줄이고 순수한 Java로 어플리케이션을 완성하고 싶다. 물론 이루어지기 힘든 꿈이라는것도 알고 있기 때문에 어느정도 타협을 하며 나아갈 것이다.